## 网络工程师

# 一、计算机网络概论🌟🌟

计算机网络分类

- 通信子网：通信节点（集线器、交换机、路由器等）和通信链路（电话线、同轴电缆、无线电路、卫星线路、光缆等）。
- 用户资源网：PC、服务器等

按照覆盖范围可以把网络分为 `个人网（PAN）、局域网（LAN）、城域网（MAN）、广域网（WAN）`
### OSI和TCP/IP的参考模型

- OSI参考模型

  | 层级 | 名称       | 主要功能                               | 典型协议/设备        |
  | ---- | ---------- | -------------------------------------- | -------------------- |
  | 7    | 应用层     | 为应用程序提供网络服务                 | HTTP、FTP、SMTP、DNS |
  | 6    | 表示层     | 数据格式转换、<font color="#ff0000">加密解密、压缩解压缩 </font>    | JPEG、MPEG、ASCII    |
  | 5    | 会话层     | 建立、管理和终止会话                   | NetBIOS、RPC         |
  | 4    | 传输层     | <font color="#ff0000">端到端连接</font>、可靠传输、流量控制         | TCP、UDP             |
  | 3    | 网络层     | <font color="#ff0000">逻辑寻址、路由选择</font>、拥塞控制           | IP、ICMP、路由器     |
  | 2    | 数据链路层 | 分组封装成帧、差错控制、<font color="#ff0000">点到节点的传输</font> | 以太网、PPP、交换机  |
  | 1    | 物理层     | 比特流传输、提供机械和电气规约         | 线缆、集线器、中继器 |

  OSI模型是一个理论模型，实际应用中更常用的是TCP/IP四层模型，但OSI模型在网络教学和理解网络通信过程中仍然具有重要意义。

- TCP/IP四层模型（事实标准）

  | 层级 | 名称       | 对应OSI层 | 主要功能                     | 典型协议/技术                |
  | ---- | ---------- | --------- | ---------------------------- | ---------------------------- |
  | 4    | 应用层     | 5-7层     | 为用户提供各种网络服务       | HTTP、FTP、SMTP、DNS、Telnet |
  | 3    | 传输层     | 4层       | 提供端到端的数据传输服务     | TCP、UDP                     |
  | 2    | 网络层     | 3层       | 负责数据包的路由和转发       | IP、ICMP、ARP                |
  | 1    | 网络接口层 | 1-2层     | 处理物理接口和数据链路的细节 | 以太网、WiFi、PPP、PPTP      |
  
- 五层协议模型

  | 层级 | 名称       | 对应OSI层 | 主要功能                 | 典型协议/设备           |
  | ---- | ---------- | --------- | ------------------------ | ----------------------- |
  | 5    | 应用层     | 5-7层     | 为用户提供各种网络服务   | HTTP、FTP、SMTP、DNS    |
  | 4    | 传输层     | 4层       | 提供端到端的数据传输服务 | <font color="#ff0000">TCP、UDP </font>               |
  | 3    | 网络层     | 3层       | 负责数据包的路由和转发   | <font color="#ff0000">IP</font>、ICMP、ARP           |
  | 2    | 数据链路层 | 2层       | 成帧、差错控制、MAC寻址  | 以太网协议、PPP、交换机 |
  | 1    | 物理层     | 1层       | 比特流传输               | 网线、集线器、中继器    |

<center><img src="attachments/image-20250818165233298.png" alt="image-20250818165233298" style="zoom: 25%;" /></center>

### 数据传输过程

- 发送方

  | 层级       | 数据单位        | 处理过程                                                     |         |
  | ---------- | --------------- | ------------------------------------------------------------ | ------- |
  | 应用层     | 数据            | 用户数据被创建并传递给表示层                                 | 进程号  |
  | 表示层     | 数据            | 数据进行格式转换、加密或压缩                                 | 进程号  |
  | 会话层     | 数据            | 建立会话连接，管理数据交换                                   | 进程号  |
  | 传输层     | 段/报(Segment)  | 数据被分段，添加源端口和目标端口<br />（添加TCP或UDP报文头） | 端口号  |
  | 网络层     | 包/分组(Packet) | 添加源IP和目标IP地址（添加IP报文头）                         | IP地址  |
  | 数据链路层 | 数据帧(Frame)   | 添加MAC地址，进行数据成帧（添加以太网报文头）                | MAC地址 |
  | 物理层     | 比特(Bit)       | 将帧转换为比特流，通过物理媒介传输                           |         |

- 接收方，数据按照相反的顺序从物理层向上传递到应用层

  | 层级       | 处理过程                                  |         |
  | ---------- | ----------------------------------------- | ------- |
  | 物理层     | 接收比特流，传递给数据链路层              | 进程号  |
  | 数据链路层 | 检查帧的完整性，移除MAC地址，传递给网络层 | 进程号  |
  | 网络层     | 检查IP地址，路由功能，传递给传输层        | 进程号  |
  | 传输层     | 重组数据段，检查端口号，传递给会话层      | 端口号  |
  | 会话层     | 管理会话连接，传递给表示层                | IP地址  |
  | 表示层     | 数据解密、解压缩或格式转换，传递给应用层  | MAC地址 |
  | 应用层     | 数据最终被传递给接收应用程序              |         |



# 二、数据通信基础🌟🌟🌟

<font color="#ff0000">本章为最难章节哦。</font>
### 信道特性
- 信道带宽W
	- 模拟信道：<font color="#ff0000">`W = f2 - f1`</font> （f2 和 f1 分别表示，信道能通过的最高/最低频率，单位赫兹Hz）。
	- 数字信道：数字信道是离散信道，带宽为信道能达到的<font color="#ff0000">最大数据传输速率</font>，单位bit/s。
- 码元和码元速率
	- 码元：一个数字脉冲称为一个码元。
	- 码元速率：<font color="#ff0000">单位时间内信道传送的码元个数。如果码元宽度（脉冲周期）为T，则码元速率（波特率）`B = 1/T`， 单位是波特 Baud。</font>
	- 一个码元携带信息量n（位）与码元种类（N）的关系 $n = log_2N$。
- <font color="#ff0000"> 奈奎斯特定理</font>
	- 一个理想的信道中，若信道带宽为W，<font color="#ff0000">最大码元速率为：B = 2W</font>（Baud）
	- 极限速率为  $R = B * log_2{N} = 2W * log_2{N}$ （N表示码元种类数）
- <font color="#ff0000">香农定理</font>，一个噪声信道中的极限数据速率和带宽之间的关系
	- 极限速率公式：$C = W*log_2{(1+S/N)}$
	- 分贝与信噪比关系：$dB = 10*log_{10}{(S/N)}$
	- 其中W为带宽，S为信号平均功率，N为噪声平均功率，S/N为信噪比。
<font color="#ff0000">在曼彻斯特编码中，码元速率（波特率）等于数据速率的两倍「此处禁止套用奈奎斯特定理和香农定理」</font>

| 调制技术  | 符号数量(N) | 说明                   |
| ----- | ------- | -------------------- |
| BPSK  | 2       | 二进制相移键控，每个符号携带1比特信息  |
| QPSK  | 4       | 正交相移键控，每个符号携带2比特信息   |
| 8PSK  | 8       | 8相移键控，每个符号携带3比特信息    |
| 16QAM | 16      | 16正交幅度调制，每个符号携带4比特信息 |
![](attachments/Pasted%20image%2020250818185829.png)
## 误码率
$$
P_c = \frac{N_e(出错的位数)}{N(传输的位数)} 
$$
误码率一般要求低于$10^{-6}$，即平均每传输1兆位才允许错1位。
## 信道延迟
信道延迟 = 线路延迟 + 发送延迟
- 线路延迟 = 传输距离 / 传播速度
- 发送延迟 = 数据帧大小 / 速率
- <font color="#ff0000">电缆中的信号传播速度一般为光速（300000km/s）的67%，即 200000km/s = 200m/us</font>
- 计算例题
![](attachments/Pasted%20image%2020250819102826.png)
## 以太网帧结构
| 字段         | 长度(字节)  | 描述                         |
| ---------- | ------- | -------------------------- |
| 前导码        | 7       | 7个字节的"10101010"序列，用于同步时钟   |
| 帧开始定界符     | 1       | 1个字节的"10101011"，表示帧的开始     |
| 目标MAC地址    | 6       | 接收方的物理地址                   |
| 源MAC地址     | 6       | 发送方的物理地址                   |
| 类型/长度      | 2       | 指明上层协议类型(如IPv4为0x0800)或帧长度 |
| 数据（MTU）    | 46-1500 | 实际传输的数据，最小46字节，最大1500字节    |
| 帧校验序列(FCS) | 4       | 用于检测帧传输过程中是否出错             |

